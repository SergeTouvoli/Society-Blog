async function submitComment(event){event.preventDefault();const currentOrigin=window.location.origin,url=currentOrigin+"/Social/ajouter-commentaire",form=document.getElementById("commentForm"),formData=new FormData(form),successInfos=document.querySelector(".successComment"),errorInfos=document.querySelector(".errorComment");try{const response=await fetch(url,{method:"POST",body:formData}),data=await response.json();if(data.errors&&data.errors.length>0)errorInfos.textContent=data.errors.join("; ");else{errorInfos.textContent="",successInfos.textContent="Commentaire ajouté avec succès !",loadComment();const commentContent=document.getElementById("comment_content");commentContent.value=""}}catch(error){console.error(error),errorInfos.textContent="Une erreur est survenue. Veuillez réessayer."}}document.addEventListener("DOMContentLoaded",(function(){const textarea=document.getElementById("comment_content");textarea.addEventListener("keyup",(function(){displayCharCount(this,5,150)})),loadComment()}));